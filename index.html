<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Seguidores - Evereste</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Fundo cinza claro */
        }
        .dashboard-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .kpi-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: #111827;
        }
        .kpi-label {
            font-size: 0.875rem;
            color: #6b7280;
            font-weight: 500;
        }
        .kpi-change {
            font-size: 1rem;
            font-weight: 600;
        }
        .kpi-change.positive {
            color: #10b981;
        }
        .chart-container {
            position: relative;
            height: 350px;
            width: 100%;
        }
        /* Estilos para o Modal da IA */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.95);
            transition: transform 0.3s;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #4f46e5;
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- Cabe√ßalho -->
        <header class="mb-8">
            <h1 class="text-3xl font-bold text-gray-800">Relat√≥rio Interativo de Seguidores</h1>
            <p class="text-gray-500 mt-1">An√°lise da conta do Evereste no Instagram | Per√≠odo: 10/06 a 07/09</p>
        </header>

        <!-- M√©tricas Principais (KPIs) -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div id="kpi-seguidores" class="dashboard-card">
                <p class="kpi-label">Seguidores Atuais</p>
                <p class="kpi-value">7.208</p>
            </div>
            <div id="kpi-crescimento" class="dashboard-card">
                <p class="kpi-label">Crescimento L√≠quido</p>
                <p class="kpi-value">+1.924</p>
                <p class="kpi-change positive">+35,7%</p>
            </div>
            <div id="kpi-aquisicao" class="dashboard-card">
                <p class="kpi-label">Novos Seguidores vs. Unfollows</p>
                <p class="kpi-value text-green-500">2.568</p>
                <p class="kpi-value text-red-500 text-2xl -mt-2">644</p>
            </div>
            <div id="kpi-retencao" class="dashboard-card">
                <p class="kpi-label">Taxa de Reten√ß√£o M√©dia</p>
                <p class="kpi-value">74,9%</p>
                <p class="text-sm text-gray-500">A cada 100 novos, 75 permanecem</p>
            </div>
        </div>

        <!-- Gr√°ficos -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="dashboard-card">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Seguidores Conquistados por Campanha</h2>
                <div class="chart-container">
                    <canvas id="campaignsChart"></canvas>
                </div>
            </div>
            
            <div class="dashboard-card">
                <h2 class="text-xl font-semibold text-gray-700 mb-1">Aquisi√ß√£o vs. Cancelamentos (Unfollows)</h2>
                <div class="flex justify-around text-xs text-gray-500 mb-3 text-center">
                    <div>
                        <p class="font-semibold text-green-600">Junho</p>
                        <p>90.9% Reten√ß√£o</p>
                    </div>
                    <div>
                        <p class="font-semibold text-orange-500">Julho</p>
                        <p>50.3% Reten√ß√£o</p>
                    </div>
                    <div>
                        <p class="font-semibold text-blue-600">Ago/Set</p>
                        <p>59.4% Reten√ß√£o</p>
                    </div>
                </div>
                <div class="chart-container" style="height: 310px;">
                    <canvas id="retentionChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Conclus√µes e Recomenda√ß√µes -->
        <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
             <div class="dashboard-card">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">‚úÖ Conclus√µes (Crescimento Org√¢nico)</h2>
                <ul class="space-y-3 list-inside list-disc text-gray-600">
                    <li>O perfil cresceu <strong>+1.924 seguidores</strong> l√≠quidos em 90 dias, fortalecendo a presen√ßa digital.</li>
                    <li><strong>Eventos e campanhas sociais</strong> s√£o os principais motores de crescimento e aquisi√ß√£o de novos seguidores.</li>
                    <li>A alta taxa de reten√ß√£o m√©dia (<strong>75%</strong>) indica que o conte√∫do √© de alta qualidade, apesar da volatilidade causada pelo evento AJP.</li>
                    <li class="text-orange-600">‚ö†Ô∏è Publica√ß√µes est√°ticas e puramente institucionais (logo, bandeira) t√™m baixa convers√£o e devem ser usadas de forma complementar.</li>
                </ul>
            </div>
            <div class="dashboard-card">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">üöÄ Recomenda√ß√µes Estrat√©gicas</h2>
                <ul class="space-y-3 list-inside list-disc text-gray-600">
                    <li><strong>Investir mais</strong> em campanhas de eventos e de impacto social para maximizar a atra√ß√£o de seguidores.</li>
                    <li><strong>Humanizar a marca</strong> mostrando mais pessoas, bastidores e contando hist√≥rias reais.</li>
                    <li><strong>Refor√ßar a consist√™ncia</strong> nos formatos que j√° provaram ter bom resultado (v√≠deos, bastidores de eventos, etc.).</li>
                    <li><strong>Monitorar cancelamentos</strong> para identificar conte√∫dos que geram perda de seguidores e ajustar a estrat√©gia.</li>
                </ul>
            </div>
        </div>
        
        <!-- AN√ÅLISE DE UNFOLLOWS -->
        <div class="mt-12">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-gray-800">An√°lise de Unfollows: O Efeito "Anime Jungle Party"</h1>
                <p class="text-gray-500 mt-1">Compreendendo a origem e o comportamento da perda de seguidores.</p>
            </header>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="dashboard-card lg:col-span-1">
                    <h2 class="text-xl font-semibold text-gray-700 mb-4">Contexto da Parceria</h2>
                     <p class="text-gray-600">
                        Em junho, o Evereste patrocinou o evento <strong>Anime Jungle Party (AJP)</strong>. Esta a√ß√£o estrat√©gica, embora fora do nicho principal, visava aumentar a visibilidade da marca.
                    </p>
                    <ul class="mt-4 space-y-3 text-gray-600">
                        <li><span class="font-bold text-blue-600 text-lg">+1.164 seguidores</span> foram adquiridos atrav√©s da colabora√ß√£o e de sorteios que incentivavam seguir os patrocinadores.</li>
                         <li><span class="font-bold text-gray-700 text-lg">+269 seguidores</span> vieram de campanhas pr√≥prias do Evereste no mesmo per√≠odo.</li>
                    </ul>
                     <p class="mt-4 text-sm text-gray-500 italic">O estudo da perda de seguidores concluiu que a alta taxa de unfollow nos meses seguintes se deve ao desalinhamento de interesses entre o p√∫blico do evento e o conte√∫do institucional do Evereste.</p>
                </div>
                <div class="dashboard-card lg:col-span-2">
                     <h2 class="text-xl font-semibold text-gray-700 mb-4">Picos de Unfollows P√≥s-Evento (>9 por dia)</h2>
                     <div class="chart-container">
                        <canvas id="unfollowChart"></canvas>
                     </div>
                </div>
            </div>
             <div class="dashboard-card mt-8">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">üí° An√°lise e Conclus√µes sobre a Perda</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <p class="kpi-label">Total de Unfollows em Dias de Pico</p>
                        <p class="kpi-value text-red-500">325</p>
                        <p class="text-sm text-gray-500">Em 24 dias analisados com mais de 9 unfollows.</p>
                    </div>
                    <div>
                        <p class="kpi-label">% da Perda vs. Seguidores do AJP</p>
                        <p class="kpi-value text-red-500">27,9%</p>
                        <p class="text-sm text-gray-500">Quase um ter√ßo dos seguidores vindos do evento deixou de seguir o perfil.</p>
                    </div>
                    <div>
                        <p class="kpi-label">Impacto no Total de Perdas</p>
                        <p class="kpi-value text-red-500">50,4%</p>
                        <p class="text-sm text-gray-500">Os picos de unfollow representam mais da metade de todas as perdas do trimestre.</p>
                    </div>
                </div>
                <div class="mt-6 border-t pt-4 text-gray-700">
                     <p><strong>Conclus√£o:</strong> O estudo comprova a correla√ß√£o direta entre a perda de seguidores e o p√∫blico adquirido durante o AJP. A concentra√ß√£o de unfollows come√ßou no dia do evento e continuou por semanas, sempre que um novo conte√∫do (n√£o relacionado ao universo do evento) era publicado. Embora a perda seja significativa, a estrat√©gia resultou num ganho l√≠quido e, mais importante, numa grande exposi√ß√£o da marca. A li√ß√£o √© que a aquisi√ß√£o de seguidores em massa fora do nicho tem um "custo" de reten√ß√£o, que deve ser considerado em futuras parcerias.</p>
                </div>
            </div>

            <!-- NOVA SESS√ÉO: S√âRIE TEMPORAL E PREVIS√ÉO -->
            <div class="dashboard-card mt-8">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">üìà An√°lise de S√©rie Temporal e Previs√£o de Perda (AJP)</h2>
                <p class="text-gray-600 mb-6">A an√°lise temporal dos picos de unfollow mostra uma clara **tend√™ncia de queda exponencial**. A maior parte das perdas ocorreu nas 4 semanas seguintes ao evento, diminuindo progressivamente em agosto e setembro. Com base nesta curva de decaimento, podemos projetar a perda residual para os pr√≥ximos 3 meses.</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                    <div class="border rounded-lg p-4">
                        <p class="kpi-label">Previs√£o para Outubro</p>
                        <p class="kpi-value text-orange-500">~8-10%</p>
                        <p class="text-sm text-gray-500">De perda adicional sobre o restante da base de seguidores vinda do AJP.</p>
                    </div>
                    <div class="border rounded-lg p-4">
                        <p class="kpi-label">Previs√£o para Novembro</p>
                        <p class="kpi-value text-orange-500">~4-5%</p>
                        <p class="text-sm text-gray-500">A taxa de perda continua a desacelerar, indicando estabiliza√ß√£o.</p>
                    </div>
                    <div class="border rounded-lg p-4">
                        <p class="kpi-label">Previs√£o para Dezembro</p>
                        <p class="kpi-value text-orange-500">~2-3%</p>
                        <p class="text-sm text-gray-500">A perda se torna residual, aproximando-se da taxa de <span class="font-semibold">churn org√¢nica (perda natural de seguidores)</span> do perfil.</p>
                    </div>
                </div>
                 <div class="mt-6 border-t pt-4 text-gray-700">
                     <p><strong>Conclus√£o da Previs√£o:</strong> A "limpeza" da base de seguidores adquirida no evento AJP deve estar perto do fim. Ap√≥s dezembro, espera-se que os seguidores remanescentes desta campanha tenham um interesse genu√≠no no conte√∫do do Evereste, e a taxa de unfollow geral do perfil deve normalizar para n√≠veis org√¢nicos mais baixos e est√°veis.</p>
                </div>
                <div class="mt-6 border-t pt-4">
                    <h3 class="font-semibold text-gray-700 mb-2">Entendendo a Diferen√ßa: Churn do Evento vs. Churn Org√¢nico</h3>
                    <p class="text-sm text-gray-600">
                        <strong class="text-red-500">Churn do Evento (AJP):</strong> √â uma perda <strong>anormal e concentrada</strong>, causada por atrair um p√∫blico de um nicho diferente, que se desinteressa rapidamente.
                    </p>
                    <p class="text-sm text-gray-600 mt-1">
                        <strong class="text-green-500">Churn Org√¢nico (Perda Natural):</strong> √â uma perda <strong>pequena e constante</strong> que ocorre naturalmente no dia a dia, por motivos como mudan√ßa de interesse dos seguidores. √â a "sa√≠da" normal e saud√°vel de qualquer perfil.
                    </p>
                </div>
            </div>
        </div>


        <!-- Se√ß√£o de Tr√°fego Pago -->
        <div class="mt-12">
            <header class="mb-8">
                <h1 class="text-3xl font-bold text-gray-800">An√°lise de Tr√°fego Pago (Meta Ads)</h1>
                <p class="text-gray-500 mt-1">Resultados das campanhas pagas no per√≠odo de 08/06 a 08/09</p>
            </header>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div id="kpi-investimento" class="dashboard-card">
                    <p class="kpi-label">Valor Investido</p>
                    <p class="kpi-value">R$5.716</p>
                </div>
                <div id="kpi-alcance-pago" class="dashboard-card">
                    <p class="kpi-label">Alcance Total</p>
                    <p class="kpi-value">1M</p>
                     <p class="text-sm text-gray-500">Pessoas alcan√ßadas</p>
                </div>
                <div class="dashboard-card">
                    <p class="kpi-label">Impress√µes</p>
                    <p class="kpi-value">1,49M</p>
                     <p class="text-sm text-gray-500">Vezes que os an√∫ncios foram vistos</p>
                </div>
                <div class="dashboard-card">
                    <p class="kpi-label">Cliques no Link</p>
                    <p class="kpi-value">6.793</p>
                </div>
                 <div id="kpi-visitas-pago" class="dashboard-card">
                    <p class="kpi-label">Visitas ao Perfil do IG</p>
                    <p class="kpi-value">2.165</p>
                    <p class="text-sm text-gray-500">Principal resultado de campanha</p>
                </div>
                <div id="kpi-cpc" class="dashboard-card">
                    <p class="kpi-label">CPC M√©dio (Custo por Clique)</p>
                    <p class="kpi-value">R$0,84</p>
                </div>
                <div class="dashboard-card">
                    <p class="kpi-label">CTR (Taxa de Cliques)</p>
                    <p class="kpi-value">0,45%</p>
                </div>
                 <div id="kpi-cpm" class="dashboard-card">
                    <p class="kpi-label">CPM M√©dio (Custo por Mil)</p>
                    <p class="kpi-value">R$3,82</p>
                </div>
            </div>
             <div class="dashboard-card">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">üí° Insights do Tr√°fego Pago</h2>
                <ul class="space-y-3 list-inside list-disc text-gray-600">
                    <li>O principal objetivo alcan√ßado com as campanhas foi de <strong>Visitas ao Perfil do Instagram</strong>, indicando um foco em crescimento da base e reconhecimento da marca.</li>
                    <li>O Custo por Clique (<strong>R$0,84</strong>) e o Custo por Mil Impress√µes (<strong>R$3,82</strong>) est√£o em valores competitivos, mostrando uma boa otimiza√ß√£o dos an√∫ncios.</li>
                    <li>A campanha de maior destaque foi a <strong>"O MAIOR EVENTO (V√çDEO DE LAN√áAMENTO AJP)"</strong>, respons√°vel pela maior parte das visitas ao perfil.</li>
                    <li>N√£o foram registadas convers√µes diretas de "Compras" ou "Leads", refor√ßando que a estrat√©gia estava voltada para o topo do funil (alcance e engajamento).</li>
                </ul>
            </div>
        </div>
        
        <!-- INSIGHTS COM IA ‚ú® -->
        <div class="dashboard-card mt-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">An√°lise Final com IA ‚ú®</h2>
            <p class="text-gray-600 mb-6">Obtenha um resumo executivo de todo o relat√≥rio, consolidando os principais insights de crescimento, reten√ß√£o e tr√°fego pago com a ajuda da IA.</p>
            <div class="flex justify-center">
                <button id="generateSummaryBtn" class="w-full sm:w-auto bg-indigo-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    Gerar Resumo Executivo Completo
                </button>
            </div>
        </div>

    </div>

    <!-- Modal para Respostas da IA -->
    <div id="aiModal" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h2 id="aiModalTitle" class="text-2xl font-bold text-gray-800"></h2>
                <button id="closeModalBtn" class="text-gray-500 hover:text-gray-800">&times;</button>
            </div>
            <div id="aiModalBody">
                <div class="flex justify-center items-center h-48">
                    <div class="spinner"></div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // --- IN√çCIO DA L√ìGICA DA GEMINI API ---

        const generateSummaryBtn = document.getElementById('generateSummaryBtn');
        const aiModal = document.getElementById('aiModal');
        const aiModalTitle = document.getElementById('aiModalTitle');
        const aiModalBody = document.getElementById('aiModalBody');
        const closeModalBtn = document.getElementById('closeModalBtn');

        // Fun√ß√£o para chamar a API Gemini
        async function callGeminiAPI(prompt, title) {
            aiModalTitle.textContent = title;
            aiModalBody.innerHTML = `<div class="flex justify-center items-center h-48"><div class="spinner"></div></div>`;
            aiModal.classList.add('visible');

            const apiKey = ""; // A chave ser√° fornecida pelo ambiente de execu√ß√£o
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;

                if (text) {
                    const formattedText = text
                        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                        .replace(/\n/g, '<br>');
                    aiModalBody.innerHTML = `<div class="text-gray-700 space-y-4">${formattedText}</div>`;
                } else {
                    throw new Error("Resposta da API inv√°lida ou vazia.");
                }

            } catch (error) {
                console.error("Erro ao chamar a API Gemini:", error);
                aiModalBody.innerHTML = `<p class="text-red-500">Ocorreu um erro ao gerar a resposta. Por favor, tente novamente mais tarde.</p>`;
            }
        }

        // Event listener para o bot√£o de Resumo Executivo
        generateSummaryBtn.addEventListener('click', () => {
            const crescimentoLiquido = document.querySelector('#kpi-crescimento .kpi-value').textContent.trim();
            const crescimentoPercentual = document.querySelector('#kpi-crescimento .kpi-change').textContent.trim();
            const retencaoMedia = document.querySelector('#kpi-retencao .kpi-value').textContent.trim();
            const melhoresCampanhas = campaignData.labels.slice(0, 3).join(', ');
            
            const investimentoPago = document.querySelector('#kpi-investimento .kpi-value').textContent.trim();
            const alcancePago = document.querySelector('#kpi-alcance-pago .kpi-value').textContent.trim();
            const visitasAoPerfilPago = document.querySelector('#kpi-visitas-pago .kpi-value').textContent.trim();
            const cpcPago = document.querySelector('#kpi-cpc .kpi-value').textContent.trim();
            const cpmPago = document.querySelector('#kpi-cpm .kpi-value').textContent.trim();


            const prompt = `
                Aja como um analista de marketing de dados s√©nior.
                Estou a analisar o desempenho de um perfil de Instagram para uma organiza√ß√£o chamada 'Evereste' no √∫ltimo trimestre. Seguem os dados consolidados de todas as sec√ß√µes do dashboard:

                **1. Performance Org√¢nica:**
                - Crescimento L√≠quido: ${crescimentoLiquido} seguidores
                - Crescimento Percentual: ${crescimentoPercentual}
                - Taxa de Reten√ß√£o M√©dia: ${retencaoMedia}
                - Campanhas de maior sucesso: ${melhoresCampanhas}.

                **2. An√°lise de Churn (Perda):**
                - Principal Causa: Parceria com o evento 'Anime Jungle Party' (AJP), que trouxe 1.164 seguidores de um nicho diferente.
                - Impacto: Resultou numa perda concentrada de 325 seguidores em dias de pico, representando 27,9% dos seguidores vindos do evento e 50,4% do churn total do trimestre.

                **3. Desempenho de M√≠dia Paga:**
                - Investimento: ${investimentoPago}
                - Alcance Total: ${alcancePago}
                - Resultado Prim√°rio: ${visitasAoPerfilPago} Visitas ao Perfil
                - KPIs de Efici√™ncia: CPC de ${cpcPago} e CPM de ${cpmPago}.

                Com base em TODOS estes dados, escreva um resumo executivo completo em portugu√™s de Portugal. Estruture o resumo em sec√ß√µes claras: 1. An√°lise Geral do Crescimento. 2. Diagn√≥stico da Reten√ß√£o e Churn. 3. Performance de M√≠dia Paga. 4. Recomenda√ß√µes Estrat√©gicas Chave. Seja conciso e focado em insights acion√°veis.
            `;
            callGeminiAPI(prompt, "Resumo Executivo Completo Gerado por IA");
        });

        // Fechar o modal
        closeModalBtn.addEventListener('click', () => {
            aiModal.classList.remove('visible');
        });
        aiModal.addEventListener('click', (e) => {
            if (e.target === aiModal) {
                aiModal.classList.remove('visible');
            }
        });

        // --- FIM DA L√ìGICA DA GEMINI API ---


        // Dados para os gr√°ficos
        const campaignData = {
            labels: ['Molda o Presente', 'Evereste no Mundo Geek', 'Entrevista Escada', 'Arena Games Evereste', 'Webs√©rie Social EP01', 'Evereste pelo Brasil', 'Evereste Apresenta', 'Projeto Social Esporte', 'Bandeira (pessoa coberta)'],
            values: [385, 314, 299, 199, 154, 57, 24, 17, 10]
        };
        
        const unfollowData = {
            labels: [
                '28/jun (Evento Dia 1)', '29/jun (Evento Dia 2)', '30/jun (P√≥s-evento)',
                '1/jul', '2/jul (V√≠deo Dacota)', '3/jul', '4/jul (Carrossel Lei do Bem)',
                '5/jul', '6/jul', '9/jul', '10/jul', '11/jul',
                '15/jul (Fotos Treinamento)', '16/jul', '21/jul (Card EV Nordeste)',
                '23/jul (V√≠deo Locais)', '24/jul', '27/jul', '7/ago',
                '12/ago', '17/ago', '18/ago', '19/ago (Teaser Webs√©rie)', '7/set'
            ],
            values: [
                14, 32, 27, 21, 11, 12, 13, 13, 14, 9, 10, 10, 15, 10, 11, 10, 9, 9, 10, 9, 10, 10, 10, 10
            ]
        };

        // Configura√ß√£o dos gr√°ficos
        const chartOptions = {
            maintainAspectRatio: false,
            responsive: true,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    backgroundColor: '#1f2937',
                    titleColor: '#ffffff',
                    bodyColor: '#ffffff',
                    padding: 10,
                    cornerRadius: 6,
                    displayColors: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: '#e5e7eb'
                    },
                    ticks: { color: '#6b7280' }
                },
                x: {
                    grid: {
                        display: false
                    },
                    ticks: { 
                        color: '#6b7280',
                        maxRotation: 0,
                        autoSkip: true,
                        maxTicksLimit: 12
                    }
                }
            }
        };

        // Renderizar Gr√°fico de Campanhas (Barras Horizontais)
        const ctxCampaigns = document.getElementById('campaignsChart').getContext('2d');
        new Chart(ctxCampaigns, {
            type: 'bar',
            data: {
                labels: campaignData.labels,
                datasets: [{
                    label: 'Seguidores Conquistados',
                    data: campaignData.values,
                    backgroundColor: [
                        '#2563eb', '#3b82f6', '#60a5fa', '#93c5fd', '#bfdbfe',
                        '#dbeafe', '#eff6ff', '#eff6ff', '#eff6ff'
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                ...chartOptions,
                indexAxis: 'y',
                 scales: {
                    y: {
                        grid: { display: false },
                        ticks: { color: '#374151' }
                    },
                    x: {
                        grid: { color: '#e5e7eb' },
                        ticks: { color: '#6b7280' }
                    }
                }
            }
        });
        
        // Renderizar Gr√°fico de Reten√ß√£o (Barras e Linha)
        const ctxRetention = document.getElementById('retentionChart').getContext('2d');
        new Chart(ctxRetention, {
            type: 'bar',
            data: {
                labels: ['10/Jun - 30/Jun', 'Julho', 'Agosto - 07/Set'],
                datasets: [
                    {
                        label: 'Novos Seguidores',
                        data: [1433, 573, 562], // Valores reais das imagens
                        backgroundColor: '#10b981',
                        borderRadius: 4,
                        order: 2
                    },
                    {
                        label: 'Cancelamentos',
                        data: [131, 285, 228], // Valores reais das imagens
                        backgroundColor: '#ef4444',
                        borderRadius: 4,
                        order: 2
                    },
                    {
                        label: 'Crescimento L√≠quido',
                        data: [1302, 288, 334], // Calculado: Novos - Cancelamentos
                        type: 'line',
                        borderColor: '#4f46e5',
                        backgroundColor: '#4f46e5',
                        tension: 0.3,
                        fill: false,
                        order: 1
                    }
                ]
            },
            options: {
                ...chartOptions,
                plugins: {
                    legend: { display: true, position: 'top', labels: { color: '#374151' } }
                },
                 scales: {
                    y: {
                        grid: { color: '#e5e7eb' },
                        ticks: { color: '#6b7280' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#374151' }
                    }
                }
            }
        });

        // Renderizar Gr√°fico de Picos de Unfollow (Barras)
        const ctxUnfollow = document.getElementById('unfollowChart').getContext('2d');
        new Chart(ctxUnfollow, {
            type: 'bar',
            data: {
                labels: unfollowData.labels,
                datasets: [{
                    label: 'Unfollows no dia',
                    data: unfollowData.values,
                    backgroundColor: '#ef4444',
                    borderColor: '#ffffff',
                    borderWidth: 1,
                    borderRadius: 4
                }]
            },
            options: {
                ...chartOptions,
                 scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#e5e7eb' },
                        ticks: { color: '#6b7280' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { 
                            color: '#374151',
                            autoSkip: false, // Garante que todos os r√≥tulos sejam exibidos
                            maxRotation: 90, // Rotaciona os r√≥tulos para evitar sobreposi√ß√£o
                            minRotation: 45
                        }
                    }
                }
            }
        });

    </script>
</body>
</html>

